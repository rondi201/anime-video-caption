# Файл настроек запуска tools/anime_data_parsing.py
# Доступные для редактирования параметры сопровождены описанием

shiki_dataset:
  _target_: core.shikimori_gql_dataloader.ShikimoriGQLOnlineDataloader
  url: https://shikimori.one/api/graphql  # Ссылка на GraphQLAPI Shikimori
  batch_size: 12
  query: >
    query getAnumeList($page: PositiveInt, $limit: PositiveInt) {
      animes(
          page: $page
          limit: $limit
          order: popularity
          kind: "tv"
          status: "released"
          rating: "g,pg,pg_13"
          censored: true
          score: 7
      ) {
          id
          malId
          name
          russian
          english
          kind
          rating
          score
          status
          episodes
          duration
          releasedOn {
              year
              month
              day
              date
          }
          url
          isCensored
          genres {
              name
              russian
          }
          characterRoles {
              rolesEn
              character {
                  id
                  name
              }
          }
          related {
              anime {
                  id
                  name
                  releasedOn {
                      year
                      month
                      day
                      date
                  }
                  status
              }
              relationKind
          }
          scoresStats {
              score
              count
          }
      }
    }

mal_data_grabber:
  _target_: core.mal_data_grabber.MALAnimeDataGrabber
  client_id: ${oc.env:MYANIMELIST_CLIENT_ID}  # client_id собственного приложения MyAnimeList
  url: https://api.myanimelist.net/v2  # Ссылка на MyAnimeList API


kodik_downloader:
  _target_: core.kodik_fast_downloader.KodikFastDownloader
  tmp_root: tmp

anime_filters:
  - _target_: core.anime_filters.FirstSeasonAnimeFilter

max_samples: 650  # Максимальное количество собранных аниме - сбор происходит в порядке убывания популярности
save_root: dataset/anime_dataset  # Путь сохранения набора данных
fps: 0.16  # Сохраняемая частота кадров скачиваемых видео
with_audio: false  # Сохранять ли аудиодорожку в видео (если да - будет озвучка на русском языке)
quality: "720"  # Желаемое качество видео (если качество не доступно - аниме пропускается) - доступно "480", "720"
num_workers: 2  # Количество параллельно работающих обработчиков для получения данных - не рекомендуется увеличивать во избежание блокировки со стороны API
update_annotation: true  # Производить ли дозапись в существующие данные
